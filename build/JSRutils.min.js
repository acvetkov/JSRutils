/* JSRutils -v0.0.5 - 10-05-2014 */
var JSRutils;!function(){"use strict";function a(a){for(var b=parseFloat(a).toString().replace(".",","),c="",d=b.length,e=1;d>=e;++e)c=b[d-e]+c,e%3===0&&e!==d&&(c=" "+c);return c}JSRutils={Male:1,Female:2,Neuter:3,formatNumber:a},"object"==typeof module&&"object"==typeof module.exports&&(module.exports.JSRutils=JSRutils)}(),function(a){"use strict";a.Utils={trim:function(a){return"function"==typeof a.trim?a.trim():"string"!=typeof a?a:a.replace(/^[\s\r\n]+|[\s\r\n]+$/g,"")},arrayFilter:function(a,b,c){if("function"==typeof a.filter)return a.filter(b,c);if("function"==typeof b){for(var d=[],e=b.bind(c),f=0,g=a.length;g>f;f++)e(a[f])&&d.push(a[f]);return d}return[]},isDict:function(a){var b,c=typeof a;return b="object"===c&&null!==a?a instanceof Array||"number"==typeof a.length&&a.length-1 in a:"number"===c||"string"===c||"boolean"===c||"function"===c||null===a||void 0===a,!b},mergeObjects:function(a,b){if(a&&b)if(this.isDict(a)&&this.isDict(b)){var c;for(var d in b)b.hasOwnProperty(d)&&(c=b[d],a[d]=a.hasOwnProperty(d)&&this.isDict(a[d])&&this.isDict(c)?this.mergeObjects(a[d],b[d]):c)}else a=b;return a}}}(JSRutils),function(a){"use strict";var b=function(){function b(b,c,d){var e;return e=b||"undefined"==typeof d?a.formatNumber(b)+" "+m.choosePlural(b,c):d}function d(a,b){if("number"!=typeof a||!(b instanceof Array)||b.length<2)throw new TypeError("Invalid arguments passed");var c=Math.abs(a),d=c%10,e=c%100,f=0;return f=1===d&&11!==e?0:d>=2&&4>=d&&!(e>10&&20>e)?1:2,b[f]}function e(a,b,c){return("undefined"==typeof c||c.length<3)&&(c=["","",""]),a=parseInt(a),a=0>a?0:a,0===a?n.trim("ноль "+c[2]):f(a,b,c)}function f(b,c,d){var e,f="",h=b;return e=g(f,h,c,d),e=g(e[0],e[1],a.Female,["тысяча","тысячи","тысяч"]),e=g(e[0],e[1],a.Male,["миллион","миллиона","миллионов"]),e=g(e[0],e[1],a.Male,["миллиард","миллиарда","миллиардов"]),n.trim(e[0])}function g(a,b,d,e){if(0===b)return[a,b];var f=[],g=e[2],h=b%1e3;if(b=Math.floor(b/1e3),0===h)return""===a&&(a=g+" "),[a,b];f.push(c.HUNDREDS[Math.floor(h/100)]),h%=100;var i,j,k=Math.floor(h/10);return f.push(1===k?c.TENS[h]:c.TENS[k]),1===k?i=g:(j=h%10,f.push(c.ONES[j][d-1]),i=m.choosePlural(j,e)),f.push(i,a),f=n.arrayFilter(f,function(a){return a.length>0}),[n.trim(f.join(" ")),b]}function h(b,c){return c=c||a.Male,b===Math.floor(b)?m.getInWordsInt(b,c):m.getInWordsFloat(b)}function i(b,c){return c=c||a.Male,b=Math.round(b),m.sumString(b,c)}function j(b){var d=[],e=Math.floor(b),f=["целая","целых","целых"],g=k(b),h=g.length-1;return d.push(m.sumString(e,a.Female,f),m.sumString(g,a.Female,c.FRACTIONS[h])),n.trim(d.join(" "))}function k(a,b){if(b=b||9,a===Math.floor(a))return"0";b=Math.min(b,c.FRACTIONS.length),a=a.toFixed(b);var d=a.split(".")[1].replace(/0+$/,"");return d||"0"}function l(b,c){b="number"!=typeof b||0>b?0:parseFloat(b),c=c||!1;var d=[],e=Math.floor(b),f=k(b,2);return e>0&&d.push(m.sumString(e,a.Male,["рубль","рубля","рублей"])),(f>0||c)&&(10>f&&1===f.length&&(f=10*parseInt(f)),d.push(m.sumString(f,a.Female,["копейка","копейки","копеек"]))),n.trim(d.join(" "))}var m=this,n=a.Utils;this.getPlural=b,this.choosePlural=d,this.sumString=e,this.getInWordsInt=i,this.getInWordsFloat=j,this.getInWords=h,this.getRubles=l},c={FRACTIONS:[["десятая","десятых","десятых"],["сотая","сотых","сотых"],["тысячная","тысячных","тысячных"],["десятитысячная","десятитысячных","десятитысячных"],["стотысячная","стотысячных","стотысячных"],["миллионная","милллионных","милллионных"],["десятимиллионная","десятимилллионных","десятимиллионных"],["стомиллионная","стомилллионных","стомиллионных"],["миллиардная","миллиардных","миллиардных"]],ONES:[["","",""],["один","одна","одно"],["два","две","два"],["три","три","три"],["четыре","четыре","четыре"],["пять","пять","пять"],["шесть","шесть","шесть"],["семь","семь","семь"],["восемь","восемь","восемь"],["девять","девять","девять"]],TENS:["","","двадцать","тридцать","сорок","пятьдесят","шестьдесят","семьдесят","восемьдесят","девяносто","десять","одиннадцать","двенадцать","тринадцать","четырнадцать","пятнадцать","шестнадцать","семнадцать","восемнадцать","девятнадцать"],HUNDREDS:["","сто","двести","триста","четыреста","пятьсот","шестьсот","семьсот","восемьсот","девятьсот"]};a.NumeralClass=b,a.Numeral=new b}(JSRutils),function(a){"use strict";var b=function(){};b.prototype.PREFIX_IN="через",b.prototype.PREFIX_AGO="назад",b.prototype.DAY_NAMES=[["вск","воскресенье","воскресенье","в "],["пн","понедельник","понедельник","в "],["вт","вторник","вторник","во "],["ср","среда","среду","в "],["чт","четверг","четверг","в "],["пт","пятница","пятницу","в "],["сб","суббота","субботу","в "]],b.prototype.MONTH_NAMES=[["янв","январь","января"],["фев","февраль","февраля"],["мар","март","марта"],["апр","апрель","апреля"],["май","май","мая"],["июн","июнь","июня"],["июл","июль","июля"],["авг","август","августа"],["сен","сентябрь","сентября"],["окт","октябрь","октября"],["ноя","ноябрь","ноября"],["дек","декабрь","декабря"]],b.prototype.PAST_ALTERNATIVES=["вчера","позавчера"],b.prototype.YEAR_VARIANTS=["год","года","лет"],b.prototype.MONTH_VARIANTS=["месяц","месяца","месяцев"],b.prototype.DAY_VARIANTS=["день","дня","дней"],b.prototype.HOUR_VARIANTS=["час","часа","часов"],b.prototype.MINUTE_VARIANTS=["минуту","минуты","минут"],b.prototype.DISTANCE_FIELDS=["y","m","d","h","i"],b.prototype.ruStrFTime=function(b){var c={format:"%l, %d %M %Y %H:%i:%s",date:null,monthInflected:!1,dayInflected:!1,preposition:!1};b=a.Utils.mergeObjects(c,b);for(var d,e,f,g=this.createDate(b.date),h=/%(?:Y|m|d|H|i|s|D|l|M|F)/g,i=b.format,j=[],k=function(a,b){i=i.replace(a,b>=10?b.toString():"0"+b)},l=h.exec(b.format);l;){if(d=l[0],-1===j.indexOf(d)){switch(e=new RegExp(d,"g"),d){case"%Y":i=i.replace(e,g.getFullYear().toString());break;case"%m":k(e,g.getMonth()+1);break;case"%d":-1===b.format.indexOf("%M")&&-1===b.format.indexOf("%F")?k(e,g.getDate()):i=i.replace(e,g.getDate().toString());break;case"%H":k(e,g.getHours());break;case"%i":k(e,g.getMinutes());break;case"%s":k(e,g.getSeconds());break;case"%D":case"%l":var m=g.getDay(),n=b.preposition?this.DAY_NAMES[m][3]:"";if("%D"===d)f=n+this.DAY_NAMES[m][0];else{var o=b.dayInflected||b.preposition?2:1;f=n+this.DAY_NAMES[m][o]}i=i.replace(e,f);break;case"%M":case"%F":var p=g.getMonth();if("%M"===d)f=this.MONTH_NAMES[p][0];else{var q=b.monthInflected?2:1;f=this.MONTH_NAMES[p][q]}i=i.replace(e,f)}j.push(d)}l=h.exec(b.format)}return i},b.prototype.createDate=function(a){var b;if(a instanceof Date||"number"==typeof a)b=new Date(a);else if(null===a||void 0===a)b=new Date;else{if("string"!=typeof a)throw new TypeError("Invalid date specification type");var c=Date.parse(a);if(isNaN(c))throw new SyntaxError("Invalid date string");b=new Date(c)}return b},a.DtClass=b,a.Dt=new b}(JSRutils);